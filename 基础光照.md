# Basic Lighting
现实世界的光照是极其复杂的，而且会受到诸多因素的影响，这是我们有限的计算能力所无法模拟的。因此OpenGL的光照使用的是简化的模型，对现实的情况进行近似，这样处理起来会更容易一些，而且看起来也差不多一样。这些光照模型都是基于我们对光的物理特性的理解。其中一个模型被称为冯氏光照模型(Phong Lighting Model)。冯氏光照模型的主要结构由3个分量组成：环境(Ambient)、漫反射(Diffuse)和镜面(Specular)光照。下面这张图展示了这些光照分量看起来的样子：

![](./imgs/2.1.png)

* 环境光：即使天黑了，世界上的某个地方通常仍然有一些光（月亮，远处的光）所以物体几乎永远不会完全黑暗。 为了模拟这一点，我们使用了一个环境照明常数，它总是给物体一些颜色。
* 漫反射照明：模拟光对象对对象的定向影响。 这是光照模型中视觉上最重要的组成部分。 物体的一部分越朝向光源，它变得越亮。
* 镜面照明：模拟出现在发光物体上的光的亮点。 镜面高光更倾向于光的颜色而不是物体的颜色。

## 环境光
光通常都不是来自于同一个光源，而是来自于我们周围分散的很多光源，即使它们可能并不是那么显而易见。光的一个属性是，它可以向很多方向发散并反弹，从而能够到达不是非常直接临近的点。所以，光能够在其它的表面上反射，对一个物体产生间接的影响。考虑到这种情况的算法叫做全局照明(Global Illumination)算法，但是这种算法既开销高昂又极其复杂。

由于我们不是复杂和昂贵算法的忠实拥护者，我们将从使用非常简单的全局照明模型开始，即环境光。 正如您在上一节中看到的那样，我们使用了一种小的常量（光照）颜色，我们将其添加到对象片段的最终结果颜色中，这样子的话即便场景中没有直接的光源也能看起来存在有一些发散的光。

向场景添加环境光非常容易。 我们采用光的颜色，将它乘以一个小的常量环境因子，将其乘以对象的颜色，并将其用作立方体对象着色器中的片段颜色：

glsl:
```glsl
void main()
{
    float ambientStrength = 0.1;
    vec3 ambient = ambientStrength * lightColor;

    vec3 result = ambient * objectColor;
    FragColor = vec4(result, 1.0);
}
```

## 漫反射光照

漫反射光照使物体上与光线方向越接近的片段能从光源处获得更多的亮度。 

![](./imgs/2.2.png)

图左上方有一个光源，它所发出的光线落在物体的一个片段上。我们需要测量这个光线是以什么角度接触到这个片段的。 如果光线垂直于物体表面，这束光对物体的影响会最大化（译注：更亮）。为了测量光线和片段的角度，我们使用一个叫做法向量(Normal Vector)的东西，它是垂直于片段表面的向量（这里用黄色箭头表示）； 我们稍后再谈。 然后可以使用点积轻松计算两个向量之间的角度。

两个单位向量之间的角度越小，点积越倾向于值 1。当两个向量之间的角度为 90 度时，点积变为 0。同样适用于 θ：θ 越大，光线对片段颜色的影响就越小。

> 请注意，为了（仅）获得两个向量之间角度的余弦值，我们将使用单位向量（长度为 1 的向量），因此我们需要确保所有向量都已归一化，否则点积返回的不仅仅是余弦值（ 参见转换）。

